<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
  }
  div {
    margin-bottom: 24px;
  }
</style>
<body>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path id="path" d="M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z"/>
  </svg>
  <pre id="pre">
      const video = document.createElement('video');
      video.autoplay = true;
      video.muted = true;
      video.src = 'https://storage.googleapis.com/media-session/caminandes/short.mp4';

      video.play().then(_ => {
        button1.disabled = button2.disabled = false;
      });

      button1.onclick = function() {
        document.body.appendChild(video);
        video.webkitSetPresentationMode('picture-in-picture');
      }

      button2.onclick = function() {
        document.body.removeChild(video);
        // Should NOT close Picture-in-Picture window.
      }
  </pre>
  <div>
    <button id="button1">button1</button>
    <button id="button2">button2</button>
  </div>
</body>
<script>
  const video = document.createElement('video');
  video.autoplay = true;
  video.muted = true;
  video.src = 'https://storage.googleapis.com/media-session/caminandes/short.mp4';

  video.play().then(_ => {
    button1.disabled = button2.disabled = false;
  });

  button1.onclick = function() {
    document.body.appendChild(video);
    video.webkitSetPresentationMode('picture-in-picture');
  }

  button2.onclick = function() {
    document.body.removeChild(video);
    // Should NOT close Picture-in-Picture window.
  }
</script>
